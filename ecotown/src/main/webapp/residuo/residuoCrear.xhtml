<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<h:form enctype="multipart/form-data" prependId="false">
		<p:messages showDetail="true" showSummary="false" autoUpdate="true"
			closable="true" />
		<p:panel>
			<p:wizard nextLabel="#{msg.siguiente}" backLabel="#{msg.atras}">
				<p:tab>
					<p:selectOneRadio required="true" label="#{msg.tipomaterial}"
						layout="grid" columns="3"
						value="#{publicacionResiduoCrear.tipoMaterialGrupo}">
						<f:selectItems
							value="#{publicacionResiduoCrear.listTipoMaterialGrupos}"
							var="tipMG" itemValue="#{tipMG.intpktipmatgru}"
							itemLabel="#{tipMG.strnmbre}" />
						<p:ajax listener="#{publicacionResiduoCrear.llenarTipoMaterial()}" />
					</p:selectOneRadio>

					<p:outputPanel autoUpdate="true">
						<p:panel>
							<p:selectOneRadio required="true" label="#{msg.tipomaterial}"
								layout="grid" columns="3"
								value="#{publicacionResiduoCrear.tipoMaterialGrupo}">
								<f:selectItems
									value="#{publicacionResiduoCrear.listTipoMaterial}" var="tipM"
									itemValue="#{tipM.intpktipmat}" itemLabel="#{tipM.strnmbre}" />
							</p:selectOneRadio>
						</p:panel>
					</p:outputPanel>
				</p:tab>
				<p:tab>
					<h:panelGrid columns="2" width="100%">
						<p:inputTextarea styleClass="textinput" cols="70"
							value="#{publicacionResiduoCrear.residuo.strdscrpcn}"
							placeholder="#{msg.descripcion}" id="resDscrpcn"
							label="#{msg.descripcion}" title="#{msg.label22}" required="true" />
						<p:tooltip for="resDscrpcn" showEvent="focus" hideEvent="blur"
							hideEffect="fade" showEffect="fade" />

						<p:inputTextarea styleClass="textinput" id="resOrgn"
							value="#{publicacionResiduoCrear.residuo.strorgnrsdo}"
							label="#{msg.origenResiduo}" required="true"
							placeholder="#{msg.origenResiduo}" title="#{msg.label25}" />
						<p:tooltip for="resOrgn" showEvent="focus" hideEvent="blur"
							hideEffect="fade" showEffect="fade" />

						<p:inputTextarea styleClass="textinput" required="true"
							value="#{publicacionResiduoCrear.residuo.strcmntro}"
							label="#{msg.comentario}" placeholder="#{msg.comentario}"
							title="#{msg.label26}" id="resCmntro" />
						<p:tooltip for="resCmntro" showEvent="focus" hideEvent="blur"
							hideEffect="fade" showEffect="fade" />

						<p:inputText id="resPrsntcn" placeholder="#{msg.presentacion}"
							value="#{publicacionResiduoCrear.residuo.strprsntcn}"
							label="#{msg.presentacion}" title="#{msg.label26}"
							styleClass="inputTotal" required="true" />
						<p:tooltip for="resPrsntcn" showEvent="focus" hideEvent="blur"
							hideEffect="fade" showEffect="fade" />

						<p:inputText id="resDireccion" placeholder="#{msg.direccion}"
							value="#{publicacionResiduoCrear.residuo.strdrccn}"
							title="#{msg.label29}" required="true" label="#{msg.direccion}" />
						<p:tooltip for="resDireccion" showEvent="focus" hideEvent="blur"
							hideEffect="fade" showEffect="fade" />

						<p:spinner min="0" max="100" placeholder="#{msg.cantidad}"
							value="#{publicacionResiduoCrear.residuo.numcntdd}"
							label="#{msg.cantidad}" title="#{msg.label23}" id="resCntdd"
							required="true" />
						<p:tooltip for="resCntdd" showEvent="focus" hideEvent="blur"
							hideEffect="fade" showEffect="fade" />

						<p:selectBooleanButton onLabel="#{msg.donar}"
							offLabel="#{msg.vender}" label="#{msg.label30}"
							id="resDnr" onIcon="ui-icon-check" offIcon="ui-icon-close"
							value="#{publicacionResiduoCrear.residuo.booldnr}">
							<p:ajax update="pPre" />
						</p:selectBooleanButton>
						<p:tooltip for="resDnr" showEvent="focus" hideEvent="blur"
							hideEffect="fade" showEffect="fade" />

						<p:outputPanel id="pPre" autoUpdate="true">
							<p:spinner min="0" max="80000000" placeholder="#{msg.precio}"
								rendered="#{publicacionResiduoCrear.residuo.booldnr}"
								value="#{publicacionResiduoCrear.residuo.numprco}"
								label="#{msg.precio}" title="#{msg.precio}" id="resPrco"
								required="true" />
						</p:outputPanel>

					</h:panelGrid>
				</p:tab>
				<p:tab>
					<p:fileUpload dragDropSupport="true" multiple="false" fileLimit="1"
						allowTypes="/(\.|\/)(gif|jpe?g|png)$/" required="true"
						fileUploadListener="#{publicacionResiduoCrear.upload}"
						invalidFileMessage="#{msg.label27}"
						invalidSizeMessage="#{msg.label28}" sizeLimit="26214400"
						description="#{msg.subirdocumento}" label="#{msg.subirImagen}"
						fileLimitMessage="#{msg.label14}"
						uploadLabel="#{msg.cargarImagen}" cancelLabel="#{msg.cancelar}"
						update="@this" />

					<p:commandButton value="#{msg.publicacionresiduo}"
						icon="fa fa-plus fa-inverse fa-lg" styleClass="btnVer"
						action="#{publicacionResiduoCrear.crearResiduo}"
						oncomplete="PF('modalPublicacionResiduo').hide();" />
				</p:tab>
			</p:wizard>
		</p:panel>
	</h:form>

</ui:composition>
